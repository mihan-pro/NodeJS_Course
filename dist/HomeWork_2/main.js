"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sequelize=exports.Users=exports.UserGroups=exports.Groups=void 0;var _express=_interopRequireDefault(require("express"));var _dotenv=_interopRequireDefault(require("dotenv"));var _openSequelizeConnection=require("./data-access/open-sequelize-connection");var _checkConnection=require("./data-access/check-connection");var _initApp=require("./services/init-app");var _getUserModel=require("./data-access/Users/get-user-model");var _Users=require("./routers/Users");var _Groups=require("./routers/Groups");var _constants=require("./constants");var _getGroupModel=require("./data-access/Groups/get-group-model");var _createUserGroupModel=require("./data-access/UserGroup/create-user-group-model");var _UserGroup=require("./routers/UserGroup");var _logServiceRequest=require("./middlewares/logServiceRequest");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_dotenv.default.config();const server=(0,_express.default)();const sequelize=(0,_openSequelizeConnection.openSequelizeConnection)();exports.sequelize=sequelize;const Users=(0,_getUserModel.getUserModel)(sequelize);exports.Users=Users;const Groups=(0,_getGroupModel.getGroupsModel)(sequelize);exports.Groups=Groups;const UserGroups=(0,_createUserGroupModel.getUserGroupModel)(sequelize);exports.UserGroups=UserGroups;(0,_checkConnection.checkConnection)(sequelize);server.use(_express.default.json()).use(_logServiceRequest.logServiceRequest).use(_constants.ROUTES.USERS,_Users.UsersRouter).use(_constants.ROUTES.GROUPS,_Groups.GroupsRouter).use(_constants.ROUTES.USER_GROUPS,_UserGroup.UserGroupRouter);server.listen(process.env.PORT,()=>{(0,_initApp.initApp)();console.log(`Server started on port ${process.env.PORT}`);});